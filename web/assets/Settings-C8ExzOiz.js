import{p as e,B as s,m as t,k as a,C as n,x as l,l as i,c as o,i as c,f as v,u as r,n as d,v as w,z as u,t as x,X as p,J as b,s as g,G as m,R as h,Y as f,Z as y,e as k,j as _,y as A,_ as S,F as C,I as P,A as F,H as L,a0 as I,a1 as M,r as T,b as $,q as B,a2 as E,o as D}from"./svelte-0sMdcN14.js";import{Q as N}from"./vendor-CPGM4lnp.js";import{e as O,t as R,a as z,f as j,S as V,g as U}from"./index-Be2XYons.js";import{security as Y,hasPasscode as q}from"./security-pViddnke.js";import{a as J}from"./agents-C9rq6AFe.js";var G=v('<div class="setting-item warning svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7"><!> Guest Account</label> <span class="setting-description svelte-anx9w7">Your terminals are temporary. Sign in to save your\n                            data.</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-primary btn-sm svelte-anx9w7">Sign In</button></div></div>'),H=v('<span class="check svelte-anx9w7">✓</span>'),Q=v("<button><!></button>"),W=v('<div class="custom-color-picker svelte-anx9w7"><input type="color" id="custom-accent" class="svelte-anx9w7"/> <input type="text" class="color-hex-input svelte-anx9w7" placeholder="#00ff41"/> <button class="btn btn-sm svelte-anx9w7">Reset</button></div>'),X=v('<button class="btn btn-secondary btn-sm svelte-anx9w7">Change Passcode</button>'),Z=v('<button class="btn btn-primary btn-sm svelte-anx9w7">Set Passcode</button>'),K=v('<div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="lock-timeout" class="svelte-anx9w7">Lock After</label> <span class="setting-description svelte-anx9w7">Auto-lock after inactivity</span></div> <div class="setting-value svelte-anx9w7"><select id="lock-timeout" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">1 minute</option><option class="svelte-anx9w7">2 minutes</option><option class="svelte-anx9w7">5 minutes</option><option class="svelte-anx9w7">10 minutes</option><option class="svelte-anx9w7">15 minutes</option><option class="svelte-anx9w7">30 minutes</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Disable Screen Lock</label> <span class="setting-description svelte-anx9w7">Remove passcode protection</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-danger btn-sm svelte-anx9w7">Disable</button></div></div>',1),ee=v('<button class="btn btn-danger btn-sm svelte-anx9w7">Disable MFA</button>'),se=v('<button class="btn btn-primary btn-sm svelte-anx9w7">Enable MFA</button>'),te=v('<div class="agents-loading svelte-anx9w7">Loading agents...</div>'),ae=v('<div class="agents-empty-state svelte-anx9w7"><div class="empty-icon svelte-anx9w7"><svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" class="svelte-anx9w7"><rect x="2" y="3" width="20" height="14" rx="2" ry="2" class="svelte-anx9w7"></rect><line x1="8" y1="21" x2="16" y2="21" class="svelte-anx9w7"></line><line x1="12" y1="17" x2="12" y2="21" class="svelte-anx9w7"></line></svg></div> <h3 class="svelte-anx9w7">Connect Your Own Machine</h3> <p class="empty-desc svelte-anx9w7">Bring your own server, VM, or local machine to\n                            rexec. Click "Register Agent" to get a personalized\n                            install command with your API token.</p> <div class="empty-actions svelte-anx9w7"><button class="btn btn-primary svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><line x1="12" y1="5" x2="12" y2="19" class="svelte-anx9w7"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-anx9w7"></line></svg> Register Agent</button> <a href="/docs/agent" class="btn btn-secondary svelte-anx9w7">View Documentation</a></div></div>'),ne=v('<button class="btn btn-sm btn-primary svelte-anx9w7" title="Connect to terminal"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><polyline points="4 17 10 11 4 5" class="svelte-anx9w7"></polyline><line x1="12" y1="19" x2="20" y2="19" class="svelte-anx9w7"></line></svg> Connect</button>'),le=v('<span class="agent-desc svelte-anx9w7"> </span>'),ie=v('<div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Connected</span> <span class="detail-value svelte-anx9w7"> </span></div>'),oe=v('<div><div class="agent-header svelte-anx9w7"><div class="agent-status svelte-anx9w7"><span></span> <span class="status-text svelte-anx9w7"> </span></div> <div class="agent-actions svelte-anx9w7"><!> <button class="btn btn-icon btn-sm btn-danger-subtle svelte-anx9w7" title="Delete agent"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><polyline points="3 6 5 6 21 6" class="svelte-anx9w7"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-anx9w7"></path></svg></button></div></div> <div class="agent-body svelte-anx9w7"><span class="agent-name svelte-anx9w7"> </span> <!></div> <div class="agent-details svelte-anx9w7"><div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Platform</span> <span class="detail-value svelte-anx9w7"> </span></div> <div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Shell</span> <span class="detail-value svelte-anx9w7"> </span></div> <!></div></div>'),ce=v('<div class="agents-list svelte-anx9w7"></div> <div class="agents-footer svelte-anx9w7"><div class="install-inline svelte-anx9w7"><span class="svelte-anx9w7">Install on another machine:</span> <code class="svelte-anx9w7"> </code> <button class="btn btn-sm btn-icon copy-btn svelte-anx9w7" title="Copy"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" class="svelte-anx9w7"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" class="svelte-anx9w7"></path></svg></button></div></div>',1),ve=v('<section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Agents</h2> <p class="section-description svelte-anx9w7">Connect your own servers, VMs, or local machines to rexec.\n                    Install the agent on any Linux/macOS system to access it\n                    from anywhere.</p> <div class="agents-header svelte-anx9w7"><button class="btn btn-primary btn-sm svelte-anx9w7"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><line x1="12" y1="5" x2="12" y2="19" class="svelte-anx9w7"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-anx9w7"></line></svg> Add Agent</button></div> <!></section>'),re=v('<div class="form-group svelte-anx9w7"><label for="current-passcode" class="svelte-anx9w7">Current Passcode</label> <input type="password" id="current-passcode" placeholder="Enter current passcode" class="input-full svelte-anx9w7"/></div>'),de=v('<div class="form-group svelte-anx9w7"><label for="new-passcode" class="svelte-anx9w7">New Passcode</label> <input type="password" id="new-passcode" placeholder="Enter new passcode (min 4 characters)" class="input-full svelte-anx9w7"/></div> <div class="form-group svelte-anx9w7"><label for="confirm-passcode" class="svelte-anx9w7">Confirm Passcode</label> <input type="password" id="confirm-passcode" placeholder="Confirm new passcode" class="input-full svelte-anx9w7"/></div>',1),we=v('<p class="error-text svelte-anx9w7"> </p>'),ue=v('<button class="btn btn-danger svelte-anx9w7">Disable Lock</button>'),xe=v('<button class="btn btn-primary svelte-anx9w7"> </button>'),pe=v('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7"><!></h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><!> <!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Cancel</button> <!></div></div></div>'),be=v('<div class="token-notice token-notice-success svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" class="svelte-anx9w7"></path></svg> <span class="svelte-anx9w7">This install command includes a permanent API\n                                token that never expires.</span></div>'),ge=v('<div class="token-notice token-notice-warning svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" class="svelte-anx9w7"></path><line x1="12" y1="9" x2="12" y2="13" class="svelte-anx9w7"></line><line x1="12" y1="17" x2="12.01" y2="17" class="svelte-anx9w7"></line></svg> <span class="svelte-anx9w7">Using session token (expires in 24h). For\n                                permanent access, <a href="/account/api" class="svelte-anx9w7">generate an API token</a>.</span></div>'),me=v('<div class="install-success svelte-anx9w7"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2" class="svelte-anx9w7"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" class="svelte-anx9w7"></path><polyline points="22 4 12 14.01 9 11.01" class="svelte-anx9w7"></polyline></svg> <h4 class="svelte-anx9w7"> </h4> <p class="svelte-anx9w7">Run this command on your server to install the\n                            agent:</p></div> <div class="install-script-box svelte-anx9w7"><code class="svelte-anx9w7"> </code> <button class="btn btn-sm copy-btn svelte-anx9w7"> </button></div> <!> <div class="install-notes svelte-anx9w7"><h5 class="svelte-anx9w7">Requirements:</h5> <ul class="svelte-anx9w7"><li class="svelte-anx9w7">Linux or macOS</li> <li class="svelte-anx9w7">curl and bash installed</li> <li class="svelte-anx9w7">Root/sudo access (for systemd service)</li></ul></div>',1),he=v('<div class="form-group svelte-anx9w7"><label for="agent-name" class="svelte-anx9w7">Agent Name</label> <input type="text" id="agent-name" placeholder="e.g., production-server-1" class="input-full svelte-anx9w7"/></div> <div class="form-group svelte-anx9w7"><label for="agent-desc" class="svelte-anx9w7">Description (optional)</label> <input type="text" id="agent-desc" placeholder="e.g., Main production web server" class="input-full svelte-anx9w7"/></div>',1),fe=v('<button class="btn btn-primary svelte-anx9w7">Done</button>'),ye=v('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Create Agent</button>',1),ke=v('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7"> </h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><!></div> <div class="modal-footer svelte-anx9w7"><!></div></div></div>'),_e=v('<p class="modal-text svelte-anx9w7">Two-factor authentication adds an extra layer of\n                        security to your account. You\'ll need an authenticator\n                        app like Google Authenticator or Authy.</p> <p class="modal-text svelte-anx9w7" style="margin-top: 12px; color: var(--text-muted); font-size: 13px;"><strong class="svelte-anx9w7">Bonus:</strong> Once enabled, you can also lock individual\n                        terminals with MFA from your dashboard for extra protection.</p>',1),Ae=v('<img alt="MFA QR Code" class="qr-code svelte-anx9w7"/>'),Se=v('<div class="loading-spinner svelte-anx9w7">Loading QR...</div>'),Ce=v('<div class="qr-container svelte-anx9w7"><!></div> <p class="secret-text svelte-anx9w7">Secret: <code class="svelte-anx9w7"> </code></p> <div class="form-group svelte-anx9w7"><label class="svelte-anx9w7">Verification Code</label> <input type="text" placeholder="Enter 6-digit code" class="input-full svelte-anx9w7" maxlength="6"/></div>',1),Pe=v('<p class="modal-text svelte-anx9w7">Enter a code from your authenticator app to disable MFA.</p> <div class="form-group svelte-anx9w7"><label class="svelte-anx9w7">Verification Code</label> <input type="text" placeholder="Enter 6-digit code" class="input-full svelte-anx9w7" maxlength="6"/></div>',1),Fe=v('<p class="error-text svelte-anx9w7"> </p>'),Le=v('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Start Setup</button>',1),Ie=v('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Verify & Enable</button>',1),Me=v('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-danger svelte-anx9w7">Disable MFA</button>',1),Te=v('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Two-Factor Authentication</h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><!></div></div></div>'),$e=v('<div class="ip-item svelte-anx9w7"><span class="svelte-anx9w7"> </span> <button class="btn-icon btn-sm svelte-anx9w7">×</button></div>'),Be=v('<p class="empty-text svelte-anx9w7">No IPs whitelisted (All allowed)</p>'),Ee=v('<p class="error-text svelte-anx9w7"> </p>'),De=v('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">IP Whitelist</h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><p class="modal-text svelte-anx9w7">Only allow access from these IP addresses. Leave empty to\n                    allow all.</p> <div class="ip-list svelte-anx9w7"><!> <!></div> <div class="add-ip-form svelte-anx9w7"><input type="text" placeholder="e.g. 192.168.1.1 or 10.0.0.0/24" class="input-full svelte-anx9w7"/> <button class="btn btn-secondary btn-sm svelte-anx9w7">Add</button></div> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Save Changes</button></div></div></div>'),Ne=v('<div class="loading-text svelte-anx9w7">Loading logs...</div>'),Oe=v('<div class="empty-text svelte-anx9w7">No logs found</div>'),Re=v('<tr class="svelte-anx9w7"><td class="svelte-anx9w7"> </td><td class="svelte-anx9w7"> </td><td class="svelte-anx9w7"> </td></tr>'),ze=v('<div class="logs-table-wrapper svelte-anx9w7"><table class="logs-table svelte-anx9w7"><thead class="svelte-anx9w7"><tr class="svelte-anx9w7"><th class="svelte-anx9w7">Action</th><th class="svelte-anx9w7">IP Address</th><th class="svelte-anx9w7">Date</th></tr></thead><tbody class="svelte-anx9w7"></tbody></table></div>'),je=v('<p class="error-text svelte-anx9w7"> </p>'),Ve=v('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Audit Logs</h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-primary svelte-anx9w7">Close</button></div></div></div>'),Ue=v('<div class="loading-text svelte-anx9w7">Loading sessions...</div>'),Ye=v('<div class="empty-text svelte-anx9w7">No sessions found</div>'),qe=v('<div class="session-revoked svelte-anx9w7"> </div>'),Je=v('<div class="session-current-badge svelte-anx9w7">Current session</div>'),Ge=v('<button class="btn btn-danger btn-sm svelte-anx9w7">Revoke</button>'),He=v('<button class="btn btn-secondary btn-sm svelte-anx9w7" disabled>Revoked</button>'),Qe=v('<div><div class="session-meta svelte-anx9w7"><div class="session-ua svelte-anx9w7"> </div> <div class="session-details svelte-anx9w7"><span class="svelte-anx9w7"> </span> <span class="svelte-anx9w7">•</span> <span class="svelte-anx9w7"> </span> <span class="svelte-anx9w7">•</span> <span class="svelte-anx9w7"> </span></div> <!> <!></div> <div class="session-actions svelte-anx9w7"><!></div></div>'),We=v('<div class="sessions-list svelte-anx9w7"></div>'),Xe=v('<p class="error-text svelte-anx9w7"> </p>'),Ze=v('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Active Sessions</h3> <button class="modal-close svelte-anx9w7">×</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Revoke Others</button> <button class="btn btn-primary svelte-anx9w7">Close</button></div></div></div>'),Ke=v('<div class="settings svelte-anx9w7"><div class="settings-header svelte-anx9w7"><button class="back-btn svelte-anx9w7">← Back</button> <h1 class="svelte-anx9w7">Settings</h1></div> <div class="settings-content svelte-anx9w7"><section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Account</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="username" class="svelte-anx9w7">Username</label> <span class="setting-description svelte-anx9w7">Unique identifier for your account</span></div> <div class="setting-value svelte-anx9w7"><input type="text" id="username" class="input-full svelte-anx9w7" style="max-width: 200px;"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="firstname" class="svelte-anx9w7">Full Name</label> <span class="setting-description svelte-anx9w7">Your first and last name</span></div> <div class="setting-value profile-names svelte-anx9w7"><input type="text" id="firstname" placeholder="First Name" class="input-full svelte-anx9w7"/> <input type="text" id="lastname" placeholder="Last Name" class="input-full svelte-anx9w7"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Email</label> <span class="setting-description svelte-anx9w7">Your account email address</span></div> <div class="setting-value svelte-anx9w7"><span class="value-text svelte-anx9w7"> </span></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Account Type</label> <span class="setting-description svelte-anx9w7">Your current subscription plan</span></div> <div class="setting-value svelte-anx9w7"><span> </span></div></div> <!></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Terminal</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="font-size" class="svelte-anx9w7">Font Size</label> <span class="setting-description svelte-anx9w7">Terminal font size in pixels</span></div> <div class="setting-value svelte-anx9w7"><input type="number" id="font-size" min="10" max="24" class="input-sm svelte-anx9w7"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="cursor-style" class="svelte-anx9w7">Cursor Style</label> <span class="setting-description svelte-anx9w7">Terminal cursor appearance</span></div> <div class="setting-value svelte-anx9w7"><select id="cursor-style" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">Bar</option><option class="svelte-anx9w7">Block</option><option class="svelte-anx9w7">Underline</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="cursor-blink" class="svelte-anx9w7">Cursor Blink</label> <span class="setting-description svelte-anx9w7">Enable cursor blinking</span></div> <div class="setting-value svelte-anx9w7"><label class="toggle svelte-anx9w7"><input type="checkbox" id="cursor-blink" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="scrollback" class="svelte-anx9w7">Scrollback Lines</label> <span class="setting-description svelte-anx9w7">Number of lines to keep in history</span></div> <div class="setting-value svelte-anx9w7"><select id="scrollback" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">1,000</option><option class="svelte-anx9w7">5,000</option><option class="svelte-anx9w7">10,000</option><option class="svelte-anx9w7">50,000</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="copy-on-select" class="svelte-anx9w7">Copy on Select</label> <span class="setting-description svelte-anx9w7">Automatically copy selected text</span></div> <div class="setting-value svelte-anx9w7"><label class="toggle svelte-anx9w7"><input type="checkbox" id="copy-on-select" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Appearance</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="theme" class="svelte-anx9w7">Theme</label> <span class="setting-description svelte-anx9w7">Color scheme for the interface</span></div> <div class="setting-value svelte-anx9w7"><select id="theme" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">Dark</option><option class="svelte-anx9w7">Light</option></select></div></div> <div class="setting-item accent-setting svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Accent Color</label> <span class="setting-description svelte-anx9w7">Primary color for buttons, links, and highlights</span></div> <div class="setting-value accent-colors svelte-anx9w7"><div class="color-presets svelte-anx9w7"><!> <button title="Custom color"><span class="custom-icon svelte-anx9w7">+</span></button></div> <!></div></div></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Security</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Screen Lock</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><!></div></div> <!> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Single Session Mode</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><label class="toggle-switch svelte-anx9w7"><input type="checkbox" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Two-Factor Authentication</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><!></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">IP Whitelist</label> <span class="setting-description svelte-anx9w7">Restrict access to your account and API endpoints from\n                        specific IP addresses. Leave empty to allow access from\n                        any IP. All changes are logged.</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">Manage IPs</button></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Audit Logs</label> <span class="setting-description svelte-anx9w7">View security events</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">View Logs</button></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Active Sessions</label> <span class="setting-description svelte-anx9w7">Manage devices logged into your account</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">Manage Sessions</button></div></div></section> <!> <div class="settings-actions svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Reset to Defaults</button> <button class="btn btn-primary svelte-anx9w7">Save Settings</button></div></div></div> <!> <!> <!> <!> <!> <!>',1);function es(v,B){e(B,!1);const es=()=>l(z,"$auth",is),ss=()=>l(j,"$isGuest",is),ts=()=>l(q,"$hasPasscode",is),as=()=>l(Y,"$security",is),ns=()=>l(O,"$themeStore",is),ls=()=>l(J,"$agents",is),[is,os]=A(),cs=s(),vs="undefined"!=typeof window?window.location.host:"rexec.pipeops.io",rs=`${"undefined"!=typeof window?window.location.protocol:"https:"}//${vs}`;let ds="dark",ws=t(14),us=t(!0),xs=t("bar"),ps=t(5e3),bs=t(!1),gs=t(O.getAccent()),ms=t(!1),hs=t(a(gs)),fs=t(5),ys=t(!1),ks=t(""),_s=t(""),As=t(""),Ss=t(""),Cs=t(!1),Ps=t(!1),Fs=t(!1),Ls=t(""),Is=t([]),Ms=t(!1),Ts=t("intro"),$s=t(""),Bs=t(""),Es=t(""),Ds=t(""),Ns=t(!1),Os=t(!1),Rs=t([]),zs=t(""),js=t(""),Vs=t(!1),Us=t(!1),Ys=t([]),qs=t(!1),Js=t(""),Gs=t(!1),Hs=t(""),Qs=t(""),Ws=t(null),Xs=t(!1),Zs=t(!1),Ks=t(""),et=t(""),st=t(""),tt=t(!1);async function at(){if(!a(Hs).trim())return void R.error("Agent name is required");const e=await J.registerAgent(a(Hs).trim(),a(Qs).trim());e&&(g(Ws,e),g(Xs,!0),R.success("Agent registered successfully"))}function nt(){g(Gs,!1),g(Hs,""),g(Qs,""),g(Ws,null),g(Xs,!1),g(Zs,!1)}function lt(){if(a(Ws)){const e=J.getInstallScript(a(Ws).id);navigator.clipboard.writeText(e),g(Zs,!0),R.success("Install script copied to clipboard"),setTimeout(()=>g(Zs,!1),2e3)}}async function it(){try{if(localStorage.setItem("rexec_settings",JSON.stringify({theme:ds,fontSize:a(ws),cursorBlink:a(us),cursorStyle:a(xs),scrollback:a(ps),copyOnSelect:a(bs)})),a(tt)&&es().user){const e=await z.updateProfile({username:a(Ks),firstName:a(et),lastName:a(st),allowedIPs:es().user.allowedIPs});if(!e.success)return void R.error(e.error||"Failed to update profile")}R.success("Settings saved")}catch(e){R.error("Failed to save settings")}}async function ot(){const e=await Y.updateLockTimeout(a(fs));e.success?R.success("Lock timeout updated"):R.error(e.error||"Failed to update lock timeout")}function ct(e){g(Cs,e),g(ys,!0),g(ks,""),g(_s,""),g(As,""),g(Ss,"")}function vt(){g(ys,!1),g(ks,""),g(_s,""),g(As,""),g(Ss,"")}async function rt(){if(g(Ss,""),!a(ks).trim())return void g(Ss,"Please enter a passcode");if(a(ks).length<4)return void g(Ss,"Passcode must be at least 4 characters");if(a(ks)!==a(_s))return void g(Ss,"Passcodes do not match");const e=await Y.setPasscode(a(ks),a(Cs)&&ts()?a(As):void 0,a(fs));if(!e.success)return e.error&&(e.error.includes("current_passcode is required")||e.error.includes("already exists"))?(await Y.refreshFromServer(),g(Cs,!0),void g(Ss,"A passcode is already set. Please enter your current passcode.")):void g(Ss,e.error||"Failed to set passcode");vt(),R.success(ts()?"Passcode updated":"Screen lock passcode set")}async function dt(){if(!ts())return;const e=await Y.removePasscode(a(As));e.success?(vt(),R.success("Screen lock disabled")):g(Ss,e.error||"Passcode is incorrect")}async function wt(e){g(Ms,!0),g(Ds,""),g(Es,""),g(Ts,"enable"===e?"intro":"disable")}async function ut(){g(Ns,!0),g(Ds,"");try{const e=await fetch("/api/mfa/setup",{headers:{Authorization:`Bearer ${es().token}`}});if(!e.ok)throw new Error("Failed to start MFA setup");const s=await e.json();g($s,s.secret),g(Bs,await N.toDataURL(s.otp_url)),g(Ts,"setup")}catch(e){g(Ds,e.message||"Setup failed")}finally{g(Ns,!1)}}async function xt(){if(a(Es)){g(Ns,!0),g(Ds,"");try{const e=await fetch("/api/mfa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${es().token}`},body:JSON.stringify({secret:a($s),code:a(Es)})});if(!e.ok){const s=await e.json();throw new Error(s.error||"Verification failed")}R.success("MFA Enabled! You can now lock terminals with MFA from your dashboard."),z.fetchProfile(),g(Ms,!1)}catch(e){g(Ds,e.message||"Verification failed")}finally{g(Ns,!1)}}}async function pt(){if(a(Es)){g(Ns,!0),g(Ds,"");try{const e=await fetch("/api/mfa/disable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${es().token}`},body:JSON.stringify({code:a(Es)})});if(!e.ok){const s=await e.json();throw new Error(s.error||"Disable failed")}R.success("MFA Disabled"),z.fetchProfile(),g(Ms,!1)}catch(e){g(Ds,e.message||"Disable failed")}finally{g(Ns,!1)}}}function bt(){a(zs).trim()&&(/^[\d\.\/]+$/.test(a(zs).trim())?a(Rs).includes(a(zs).trim())?g(js,"IP already in list"):(g(Rs,[...a(Rs),a(zs).trim()]),g(zs,""),g(js,"")):g(js,"Invalid IP format"))}async function gt(){g(Vs,!0),g(js,"");try{if(!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${es().token}`},body:JSON.stringify({username:es().user?.username,allowed_ips:a(Rs)})})).ok)throw new Error("Failed to save IP whitelist");R.success("IP Whitelist Updated"),z.fetchProfile(),g(Os,!1)}catch(e){g(js,e.message||"Save failed")}finally{g(Vs,!1)}}async function mt(){g(Ps,!0),g(Fs,!0),g(Ls,"");try{const e=await fetch("/api/sessions",{headers:{Authorization:`Bearer ${es().token}`}});if(!e.ok)throw new Error("Failed to load sessions");const s=await e.json();g(Is,s.sessions||[])}catch(e){g(Ls,e.message||"Failed to load sessions")}finally{g(Fs,!1)}}function ht(){g(Ps,!1),g(Ls,""),g(Is,[])}async function ft(){if(confirm("Revoke all other sessions?"))try{if(!(await fetch("/api/sessions/revoke-others",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${es().token}`}})).ok)throw new Error("Failed to revoke sessions");await mt(),R.success("Other sessions revoked")}catch(e){R.error(e.message||"Failed to revoke sessions")}}n(()=>{Y.refreshFromServer(),ss()||J.fetchAgents()}),function(){try{const e=localStorage.getItem("rexec_settings");if(e){const s=JSON.parse(e);ds=s.theme||"dark",g(ws,s.fontSize||14),g(us,s.cursorBlink??!0),g(xs,s.cursorStyle||"bar"),g(ps,s.scrollback||5e3),g(bs,s.copyOnSelect??!1)}const s=Y.getState();g(fs,s.lockAfterMinutes)}catch(e){}}(),i(()=>(es(),a(tt)),()=>{es().user&&!a(tt)&&(g(Ks,es().user.username),g(et,es().user.firstName||""),g(st,es().user.lastName||""),g(tt,!0))}),i(()=>(ts(),as(),a(fs)),()=>{ts()&&as().lockAfterMinutes!==a(fs)&&g(fs,as().lockAfterMinutes)}),o(),c();var yt=Ke(),kt=r(yt),_t=d(kt);d(_t).__click=()=>cs("back");var At=u(_t,2),St=d(At),Ct=u(d(St),2),Pt=u(d(Ct),2),Ft=d(Pt),Lt=u(Ct,2),It=u(d(Lt),2),Mt=d(It),Tt=u(Mt,2),$t=u(Lt,2),Bt=u(d($t),2),Et=d(Bt),Dt=d(Et),Nt=u($t,2),Ot=u(d(Nt),2),Rt=d(Ot),zt=d(Rt),jt=u(Nt,2),Vt=e=>{var s=G(),t=d(s),a=d(t),n=d(a);V(n,{status:"warning",size:16});var l=u(t,2);d(l).__click=()=>z.getOAuthUrl().then(e=>e&&(window.location.href=e)),k(e,s)};w(jt,e=>{ss()&&e(Vt)});var Ut=u(St,2),Yt=u(d(Ut),2),qt=u(d(Yt),2),Jt=d(qt),Gt=u(Yt,2),Ht=u(d(Gt),2),Qt=d(Ht);x(()=>{a(xs),E(()=>{})});var Wt=d(Qt);Wt.value=Wt.__value="bar";var Xt=u(Wt);Xt.value=Xt.__value="block";var Zt=u(Xt);Zt.value=Zt.__value="underline";var Kt=u(Gt,2),ea=u(d(Kt),2),sa=d(ea),ta=d(sa),aa=u(Kt,2),na=u(d(aa),2),la=d(na);x(()=>{a(ps),E(()=>{})});var ia=d(la);ia.value=ia.__value=1e3;var oa=u(ia);oa.value=oa.__value=5e3;var ca=u(oa);ca.value=ca.__value=1e4;var va=u(ca);va.value=va.__value=5e4;var ra=u(aa,2),da=u(d(ra),2),wa=d(da),ua=d(wa),xa=u(Ut,2),pa=u(d(xa),2),ba=u(d(pa),2),ga=d(ba);ga.__change=e=>O.setTheme(e.target.value);var ma=d(ga);ma.value=ma.__value="dark";var ha,fa=u(ma);fa.value=fa.__value="light",p(ga);var ya=u(pa,2),ka=u(d(ya),2),_a=d(ka),Aa=d(_a);b(Aa,1,()=>U,S,(e,s)=>{var t=Q();let n;t.__click=()=>{g(gs,a(s).value),g(hs,a(s).value),O.setAccent(a(s).value),g(ms,!1)};var l=d(t),i=e=>{var s=H();k(e,s)};w(l,e=>{a(gs),a(s),m(()=>a(gs).toLowerCase()===a(s).value.toLowerCase())&&e(i)}),x(e=>{n=L(t,1,"color-swatch svelte-anx9w7",null,n,e),D(t,`--swatch-color: ${a(s),m(()=>a(s).value)??""}`),C(t,"title",(a(s),m(()=>a(s).name)))},[()=>({active:a(gs).toLowerCase()===a(s).value.toLowerCase()})]),k(e,t)});var Sa=u(Aa,2);let Ca;Sa.__click=()=>g(ms,!a(ms));var Pa=u(_a,2),Fa=e=>{var s=W(),t=d(s);t.__input=e=>{const s=e.target.value;g(gs,s),O.setAccent(s)};var n=u(t,2);C(n,"maxlength",7),n.__input=e=>{const s=e.target.value;/^#[0-9A-Fa-f]{6}$/.test(s)&&(g(gs,s),O.setAccent(s))},u(n,2).__click=()=>{O.resetAccent(),g(gs,U[0].value),g(hs,U[0].value),g(ms,!1)},h(t,()=>a(hs),e=>g(hs,e)),h(n,()=>a(hs),e=>g(hs,e)),k(e,s)};w(Pa,e=>{a(ms)&&e(Fa)});var La=u(xa,2),Ia=u(d(La),2),Ma=d(Ia),Ta=u(d(Ma),2),$a=d(Ta),Ba=e=>{var s=P("Screen lock is enabled");k(e,s)},Ea=e=>{var s=P("Protect your session when away");k(e,s)};w($a,e=>{ts()?e(Ba):e(Ea,!1)});var Da=u(Ma,2),Na=d(Da),Oa=e=>{var s=X();s.__click=()=>ct(!0),k(e,s)},Ra=e=>{var s=Z();s.__click=()=>ct(!1),k(e,s)};w(Na,e=>{ts()?e(Oa):e(Ra,!1)});var za=u(Ia,2),ja=e=>{var s=K(),t=r(s),n=u(d(t),2),l=d(n);x(()=>{a(fs),E(()=>{})}),l.__change=ot;var i=d(l);i.value=i.__value=1;var o=u(i);o.value=o.__value=2;var c=u(o);c.value=c.__value=5;var v=u(c);v.value=v.__value=10;var w=u(v);w.value=w.__value=15;var p=u(w);p.value=p.__value=30;var b=u(t,2),m=u(d(b),2);d(m).__click=()=>{g(Cs,!1),g(ys,!0)},f(l,()=>a(fs),e=>g(fs,e)),k(e,s)};w(za,e=>{ts()&&e(ja)});var Va=u(za,2),Ua=d(Va),Ya=u(d(Ua),2),qa=d(Ya),Ja=e=>{var s=P("Only one active session allowed. New logins revoke\n                            previous sessions.");k(e,s)},Ga=e=>{var s=P("Allow multiple simultaneous sessions across devices");k(e,s)};w(qa,e=>{as(),m(()=>as().singleSessionMode)?e(Ja):e(Ga,!1)});var Ha=u(Ua,2),Qa=d(Ha),Wa=d(Qa);Wa.__change=async e=>{const s=e.target.checked,t=await Y.setSingleSessionMode(s);t.success?R.success(s?"Single session mode enabled":"Single session mode disabled"):(R.error(t.error||"Failed to update setting"),e.target.checked=!s)};var Xa=u(Va,2),Za=d(Xa),Ka=u(d(Za),2),en=d(Ka),sn=e=>{var s=P("MFA is enabled — you can now lock individual\n                            terminals with MFA from the dashboard");k(e,s)},tn=e=>{var s=P("Add an extra layer of security. Once enabled, you\n                            can also protect individual terminals with MFA\n                            locks.");k(e,s)};w(en,e=>{es(),m(()=>es().user?.mfaEnabled)?e(sn):e(tn,!1)});var an=u(Za,2),nn=d(an),ln=e=>{var s=ee();s.__click=()=>wt("disable"),k(e,s)},on=e=>{var s=se();s.__click=()=>wt("enable"),k(e,s)};w(nn,e=>{es(),m(()=>es().user?.mfaEnabled)?e(ln):e(on,!1)});var cn=u(Xa,2),vn=u(d(cn),2);d(vn).__click=function(){g(Rs,[...es().user?.allowedIPs||[]]),g(Os,!0),g(js,""),g(zs,"")};var rn=u(cn,2),dn=u(d(rn),2);d(dn).__click=async function(){g(Us,!0),g(qs,!0),g(Js,"");try{const e=await fetch("/api/audit-logs?limit=50",{headers:{Authorization:`Bearer ${es().token}`}});if(!e.ok)throw new Error("Failed to fetch logs");g(Ys,await e.json())}catch(e){g(Js,e.message||"Failed to load logs")}finally{g(qs,!1)}};var wn=u(rn,2),un=u(d(wn),2);d(un).__click=mt;var xn=u(La,2),pn=e=>{var s=ve(),t=u(d(s),4);d(t).__click=()=>g(Gs,!0);var n=u(t,2),l=e=>{var s=te();k(e,s)},i=e=>{var s=T(),t=r(s),n=e=>{var s=ae(),t=u(d(s),6);d(t).__click=()=>g(Gs,!0),k(e,s)},l=e=>{var s=ce(),t=r(s);b(t,5,()=>(ls(),m(()=>ls().agents)),S,(e,s)=>{var t=oe();let n;var l=d(t),i=d(l),o=d(i);let c;var v=u(o,2),r=d(v),p=u(i,2),b=d(p),g=e=>{var t=ne();t.__click=()=>function(e){"online"===e.status?cs("connectAgent",{agentId:e.id,agentName:e.name}):R.error("Agent is not online")}(a(s)),k(e,t)};w(b,e=>{a(s),m(()=>"online"===a(s).status)&&e(g)}),u(b,2).__click=()=>async function(e){confirm("Are you sure you want to delete this agent?")&&(await J.deleteAgent(e)?R.success("Agent deleted"):R.error("Failed to delete agent"))}(a(s).id);var h=u(l,2),f=d(h),y=d(f),_=u(f,2),A=e=>{var t=le(),n=d(t);x(()=>F(n,(a(s),m(()=>a(s).description)))),k(e,t)};w(_,e=>{a(s),m(()=>a(s).description)&&e(A)});var S=u(h,2),C=d(S),P=u(d(C),2),I=d(P),M=u(C,2),T=u(d(M),2),$=d(T),B=u(M,2),E=e=>{var t=ie(),n=u(d(t),2),l=d(n);x(e=>F(l,e),[()=>(a(s),m(()=>new Date(a(s).connected_at).toLocaleString()))]),k(e,t)};w(B,e=>{a(s),m(()=>a(s).connected_at)&&e(E)}),x(e=>{n=L(t,1,"agent-card svelte-anx9w7",null,n,{"agent-online":"online"===a(s).status}),c=L(o,1,"status-dot svelte-anx9w7",null,c,{"status-dot-pulse":"online"===a(s).status}),D(o,`background: ${e??""}`),F(r,(a(s),m(()=>a(s).status))),F(y,(a(s),m(()=>a(s).name))),F(I,`${a(s),m(()=>a(s).distro||a(s).os||"Unknown")??""}/${a(s),m(()=>a(s).arch||"Unknown")??""}`),F($,(a(s),m(()=>a(s).shell||"/bin/bash")))},[()=>(a(s),m(()=>function(e){switch(e){case"online":return"var(--success)";case"offline":return"var(--text-muted)";default:return"var(--warning)"}}(a(s).status)))]),k(e,t)});var n=u(t,2),l=d(n),i=u(d(l),2),o=d(i);u(i,2).__click=()=>{navigator.clipboard.writeText(`curl -sSL ${rs}/install-agent.sh | sudo bash`),R.success("Copied!")},x(()=>F(o,`curl -sSL ${rs}/install-agent.sh | sudo\n                                bash`)),k(e,s)};w(t,e=>{ls(),m(()=>0===ls().agents.length)?e(n):e(l,!1)},!0),k(e,s)};w(n,e=>{ls(),m(()=>ls().loading)?e(l):e(i,!1)}),k(e,s)};w(xn,e=>{ss()||e(pn)});var bn=u(xn,2),gn=d(bn);gn.__click=function(){ds="dark",g(ws,14),g(us,!0),g(xs,"bar"),g(ps,5e3),g(bs,!1),it()},u(gn,2).__click=it;var mn=u(kt,2),hn=e=>{var s=pe();s.__click=e=>e.target===e.currentTarget&&vt();var t=d(s),n=d(t),l=d(n),i=d(l),o=e=>{var s=P("Disable Screen Lock");k(e,s)},c=e=>{var s=T(),t=r(s),a=e=>{var s=P("Change Passcode");k(e,s)},n=e=>{var s=P("Set Screen Lock Passcode");k(e,s)};w(t,e=>{ts()?e(a):e(n,!1)},!0),k(e,s)};w(i,e=>{ts()&&!a(Cs)?e(o):e(c,!1)}),u(l,2).__click=vt;var v=u(n,2),p=d(v),b=e=>{var s=re(),t=u(d(s),2);h(t,()=>a(As),e=>g(As,e)),k(e,s)};w(p,e=>{ts()&&e(b)});var m=u(p,2),f=e=>{var s=de(),t=r(s),n=u(d(t),2),l=u(t,2),i=u(d(l),2);h(n,()=>a(ks),e=>g(ks,e)),h(i,()=>a(_s),e=>g(_s,e)),k(e,s)};w(m,e=>{ts()&&!a(Cs)||e(f)});var y=u(m,2),_=e=>{var s=we(),t=d(s);x(()=>F(t,a(Ss))),k(e,s)};w(y,e=>{a(Ss)&&e(_)});var A=u(v,2),S=d(A);S.__click=vt;var C=u(S,2),L=e=>{var s=ue();s.__click=dt,k(e,s)},I=e=>{var s=xe();s.__click=rt;var t=d(s);x(()=>F(t,ts()?"Update Passcode":"Set Passcode")),k(e,s)};w(C,e=>{ts()&&!a(Cs)?e(L):e(I,!1)}),k(e,s)};w(mn,e=>{a(ys)&&e(hn)});var fn=u(mn,2),yn=e=>{var s=ke();s.__click=e=>e.target===e.currentTarget&&nt();var t=d(s),n=d(t),l=d(n),i=d(l);u(l,2).__click=nt;var o=u(n,2),c=d(o),v=e=>{var s=me(),t=r(s),n=u(d(t),2),l=d(n),i=u(t,2),o=d(i),c=d(o),v=u(o,2);v.__click=lt;var p=d(v),b=u(i,2),g=e=>{var s=be();k(e,s)},h=e=>{var s=ge();k(e,s)};w(b,e=>{$(J),a(Ws),m(()=>J.getAgentToken(a(Ws).id))?e(g):e(h,!1)}),x(e=>{F(l,`Agent "${a(Ws),m(()=>a(Ws).name)??""}" Registered!`),F(c,e),F(p,a(Zs)?"Copied!":"Copy")},[()=>($(J),a(Ws),m(()=>J.getInstallScript(a(Ws).id)))]),k(e,s)},p=e=>{var s=he(),t=r(s),n=u(d(t),2),l=u(t,2),i=u(d(l),2);h(n,()=>a(Hs),e=>g(Hs,e)),h(i,()=>a(Qs),e=>g(Qs,e)),k(e,s)};w(c,e=>{a(Xs)&&a(Ws)?e(v):e(p,!1)});var b=u(o,2),f=d(b),y=e=>{var s=fe();s.__click=nt,k(e,s)},_=e=>{var s=ye(),t=r(s);t.__click=nt,u(t,2).__click=at,k(e,s)};w(f,e=>{a(Xs)?e(y):e(_,!1)}),x(()=>F(i,a(Xs)?"Install Agent":"Add New Agent")),k(e,s)};w(fn,e=>{a(Gs)&&e(yn)});var kn=u(fn,2),_n=e=>{var s=Te();s.__click=e=>e.target===e.currentTarget&&g(Ms,!1);var t=d(s),n=d(t);u(d(n),2).__click=()=>g(Ms,!1);var l=u(n,2),i=d(l),o=e=>{var s=_e();k(e,s)},c=e=>{var s=T(),t=r(s),n=e=>{var s=Ce(),t=r(s),n=d(t),l=e=>{var s=Ae();x(()=>C(s,"src",a(Bs))),k(e,s)},i=e=>{var s=Se();k(e,s)};w(n,e=>{a(Bs)?e(l):e(i,!1)});var o=u(t,2),c=u(d(o)),v=d(c),p=u(o,2),b=u(d(p),2);x(()=>F(v,a($s))),h(b,()=>a(Es),e=>g(Es,e)),k(e,s)},l=e=>{var s=T(),t=r(s),n=e=>{var s=Pe(),t=u(r(s),2),n=u(d(t),2);h(n,()=>a(Es),e=>g(Es,e)),k(e,s)};w(t,e=>{"disable"===a(Ts)&&e(n)},!0),k(e,s)};w(t,e=>{"setup"===a(Ts)?e(n):e(l,!1)},!0),k(e,s)};w(i,e=>{"intro"===a(Ts)?e(o):e(c,!1)});var v=u(i,2),p=e=>{var s=Fe(),t=d(s);x(()=>F(t,a(Ds))),k(e,s)};w(v,e=>{a(Ds)&&e(p)});var b=u(l,2),m=d(b),f=e=>{var s=Le(),t=r(s);t.__click=()=>g(Ms,!1);var n=u(t,2);n.__click=ut,x(()=>n.disabled=a(Ns)),k(e,s)},y=e=>{var s=T(),t=r(s),n=e=>{var s=Ie(),t=r(s);t.__click=()=>g(Ms,!1);var n=u(t,2);n.__click=xt,x(()=>n.disabled=a(Ns)||!a(Es)),k(e,s)},l=e=>{var s=T(),t=r(s),n=e=>{var s=Me(),t=r(s);t.__click=()=>g(Ms,!1);var n=u(t,2);n.__click=pt,x(()=>n.disabled=a(Ns)||!a(Es)),k(e,s)};w(t,e=>{"disable"===a(Ts)&&e(n)},!0),k(e,s)};w(t,e=>{"setup"===a(Ts)?e(n):e(l,!1)},!0),k(e,s)};w(m,e=>{"intro"===a(Ts)?e(f):e(y,!1)}),k(e,s)};w(kn,e=>{a(Ms)&&e(_n)});var An=u(kn,2),Sn=e=>{var s=De();s.__click=e=>e.target===e.currentTarget&&g(Os,!1);var t=d(s),n=d(t);u(d(n),2).__click=()=>g(Os,!1);var l=u(n,2),i=u(d(l),2),o=d(i);b(o,1,()=>a(Rs),S,(e,s)=>{var t=$e(),n=d(t),l=d(n);u(n,2).__click=()=>function(e){g(Rs,a(Rs).filter(s=>s!==e))}(a(s)),x(()=>F(l,a(s))),k(e,t)});var c=u(o,2),v=e=>{var s=Be();k(e,s)};w(c,e=>{a(Rs),m(()=>0===a(Rs).length)&&e(v)});var r=u(i,2),p=d(r);u(p,2).__click=bt;var f=u(r,2),y=e=>{var s=Ee(),t=d(s);x(()=>F(t,a(js))),k(e,s)};w(f,e=>{a(js)&&e(y)});var _=u(l,2),A=d(_);A.__click=()=>g(Os,!1);var C=u(A,2);C.__click=gt,x(()=>C.disabled=a(Vs)),h(p,()=>a(zs),e=>g(zs,e)),k(e,s)};w(An,e=>{a(Os)&&e(Sn)});var Cn=u(An,2),Pn=e=>{var s=Ve();s.__click=e=>e.target===e.currentTarget&&g(Us,!1);var t=d(s),n=d(t);u(d(n),2).__click=()=>g(Us,!1);var l=u(n,2),i=d(l),o=e=>{var s=Ne();k(e,s)},c=e=>{var s=T(),t=r(s),n=e=>{var s=Oe();k(e,s)},l=e=>{var s=ze(),t=d(s),n=u(d(t));b(n,5,()=>a(Ys),S,(e,s)=>{var t=Re(),n=d(t),l=d(n),i=u(n),o=d(i),c=u(i),v=d(c);x(e=>{F(l,(a(s),m(()=>a(s).action))),F(o,(a(s),m(()=>a(s).ip_address))),F(v,e)},[()=>(a(s),m(()=>new Date(a(s).created_at).toLocaleString()))]),k(e,t)}),k(e,s)};w(t,e=>{a(Ys),m(()=>0===a(Ys).length)?e(n):e(l,!1)},!0),k(e,s)};w(i,e=>{a(qs)?e(o):e(c,!1)});var v=u(i,2),p=e=>{var s=je(),t=d(s);x(()=>F(t,a(Js))),k(e,s)};w(v,e=>{a(Js)&&e(p)});var h=u(l,2);d(h).__click=()=>g(Us,!1),k(e,s)};w(Cn,e=>{a(Us)&&e(Pn)});var Fn=u(Cn,2),Ln=e=>{var s=Ze();s.__click=e=>e.target===e.currentTarget&&ht();var t=d(s),n=d(t);u(d(n),2).__click=ht;var l=u(n,2),i=d(l),o=e=>{var s=Ue();k(e,s)},c=e=>{var s=T(),t=r(s),n=e=>{var s=Ye();k(e,s)},l=e=>{var s=We();b(s,5,()=>a(Is),e=>e.id,(e,s)=>{var t=Qe();let n;var l=d(t),i=d(l),o=d(i),c=u(i,2),v=d(c),r=d(v),p=u(v,4),b=d(p),h=u(p,4),f=d(h),y=u(c,2),_=e=>{var t=qe(),n=d(t);x(e=>F(n,`Revoked ${e??""}`),[()=>(a(s),m(()=>new Date(a(s).revoked_at).toLocaleString()))]),k(e,t)};w(y,e=>{a(s),m(()=>a(s).revoked_at)&&e(_)});var A=u(y,2),S=e=>{var s=Je();k(e,s)};w(A,e=>{a(s),m(()=>a(s).is_current)&&e(S)});var C=u(l,2),P=d(C),I=e=>{var t=Ge();t.__click=()=>async function(e,s){if(confirm("Revoke this session?"))try{const t=await fetch(`/api/sessions/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${es().token}`}});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.error||"Failed to revoke session")}g(Is,a(Is).map(s=>s.id===e?{...s,revoked_at:(new Date).toISOString(),revoked_reason:"revoked_by_user"}:s)),R.success("Session revoked"),s&&z.logout()}catch(t){R.error(t.message||"Failed to revoke session")}}(a(s).id,a(s).is_current),k(e,t)},M=e=>{var s=He();k(e,s)};w(P,e=>{a(s),m(()=>!a(s).revoked_at)?e(I):e(M,!1)}),x((e,l)=>{n=L(t,1,"session-row svelte-anx9w7",null,n,{current:a(s).is_current}),F(o,(a(s),m(()=>a(s).user_agent||"Unknown device"))),F(r,(a(s),m(()=>a(s).ip_address||"Unknown IP"))),F(b,`Started ${e??""}`),F(f,`Last active ${l??""}`)},[()=>(a(s),m(()=>new Date(a(s).created_at).toLocaleString())),()=>(a(s),m(()=>new Date(a(s).last_seen_at).toLocaleString()))]),k(e,t)}),k(e,s)};w(t,e=>{a(Is),m(()=>0===a(Is).length)?e(n):e(l,!1)},!0),k(e,s)};w(i,e=>{a(Fs)?e(o):e(c,!1)});var v=u(i,2),p=e=>{var s=Xe(),t=d(s);x(()=>F(t,a(Ls))),k(e,s)};w(v,e=>{a(Ls)&&e(p)});var h=u(l,2),f=d(h);f.__click=ft,u(f,2).__click=ht,x(()=>f.disabled=(a(Fs),a(Is),m(()=>a(Fs)||0===a(Is).length))),k(e,s)};w(Fn,e=>{a(Ps)&&e(Ln)}),x((e,s)=>{F(Dt,(es(),m(()=>es().user?.email||"Not set"))),L(Rt,1,`tier-badge tier-${es(),m(()=>es().user?.tier||"free")??""}`,"svelte-anx9w7"),F(zt,e),ha!==(ha=ns())&&(ga.value=(ga.__value=ns())??"",I(ga,ns())),Ca=L(Sa,1,"color-swatch custom-swatch svelte-anx9w7",null,Ca,s),M(Wa,(as(),m(()=>as().singleSessionMode)))},[()=>(es(),m(()=>es().user?.tier?.toUpperCase()||"FREE")),()=>({active:a(ms)||!U.some(e=>e.value.toLowerCase()===a(gs).toLowerCase())})]),h(Ft,()=>a(Ks),e=>g(Ks,e)),h(Mt,()=>a(et),e=>g(et,e)),h(Tt,()=>a(st),e=>g(st,e)),h(Jt,()=>a(ws),e=>g(ws,e)),f(Qt,()=>a(xs),e=>g(xs,e)),y(ta,()=>a(us),e=>g(us,e)),f(la,()=>a(ps),e=>g(ps,e)),y(ua,()=>a(bs),e=>g(bs,e)),k(v,yt),_(),os()}B(["click","change","input"]);export{es as default};
